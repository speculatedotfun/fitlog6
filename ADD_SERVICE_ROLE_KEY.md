# הוראות להוספת SUPABASE_SERVICE_ROLE_KEY

## ⚠️ חשוב: ללא מפתח זה, העלאת תמונות לא תעבוד!

## שלב 1: קבלת המפתח מ-Supabase

1. פתח Supabase Dashboard: https://app.supabase.com
2. בחר את הפרויקט שלך
3. לך ל-**Project Settings** (⚙️ בתפריט השמאלי)
4. לחץ על **API** בתפריט
5. גלול למטה למצוא את **service_role key** (לא ה-anon key!)
6. לחץ על העין 👁️ כדי להציג את המפתח
7. העתק את המפתח (זה מפתח ארוך מאוד)

## שלב 2: הוספת המפתח ל-.env.local

### אם יש לך כבר קובץ `.env.local`:

1. פתח את הקובץ `.env.local` בתיקיית הפרויקט
2. הוסף את השורה הבאה (או עדכן אם היא כבר קיימת):
   ```
   SUPABASE_SERVICE_ROLE_KEY=המפתח_שהעתקת_כאן
   ```
3. שמור את הקובץ

### אם אין לך קובץ `.env.local`:

1. צור קובץ חדש בשם `.env.local` בתיקיית הפרויקט (באותה תיקייה כמו `package.json`)
2. העתק את התוכן מ-`env-example.txt` לקובץ החדש
3. מלא את הערכים:
   ```
   NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
   ```
4. שמור את הקובץ

## שלב 3: הפעלה מחדש של השרת

**חשוב!** לאחר הוספת המפתח:

1. עצור את שרת הפיתוח (Ctrl+C)
2. הפעל מחדש:
   ```bash
   npm run dev
   ```

## בדיקה

לאחר הפעלה מחדש:
1. נסה להעלות תמונת פרופיל מהאפליקציה
2. אם זה עובד - הכל מוכן! ✅
3. אם יש שגיאה - בדוק שהמפתח הועתק נכון (ללא רווחים מיותרים)

## ⚠️ אבטחה

- **אל תעלה את `.env.local` ל-Git!** הקובץ כבר ב-`.gitignore`
- **אל תחלוק את המפתח הזה עם אף אחד!**
- המפתח הזה נותן גישה מלאה למסד הנתונים שלך

## פתרון בעיות

### שגיאה: "SUPABASE_SERVICE_ROLE_KEY is required"
- ודא שהוספת את המפתח ל-`.env.local`
- ודא שהשרת הופעל מחדש לאחר הוספת המפתח
- ודא שהמפתח הועתק נכון (ללא רווחים או שורות חדשות)

### איך לבדוק שהמפתח נטען?
- פתח את הקונסול בדפדפן (F12)
- אם יש שגיאה, תראה אותה שם


